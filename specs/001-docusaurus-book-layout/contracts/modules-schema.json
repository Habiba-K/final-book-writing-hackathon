{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://physical-ai-textbook/schemas/modules.json",
  "title": "Physical AI Textbook Module Schema",
  "description": "JSON Schema for module configuration data",
  "type": "object",
  "required": ["modules"],
  "properties": {
    "modules": {
      "type": "array",
      "minItems": 4,
      "maxItems": 4,
      "items": {
        "$ref": "#/definitions/Module"
      }
    }
  },
  "definitions": {
    "Module": {
      "type": "object",
      "required": [
        "moduleNumber",
        "title",
        "subtitle",
        "timeframe",
        "description",
        "chapters",
        "navigationPath"
      ],
      "properties": {
        "moduleNumber": {
          "type": "integer",
          "minimum": 1,
          "maximum": 4,
          "description": "Module number (1-4)"
        },
        "title": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100,
          "description": "Main module title"
        },
        "subtitle": {
          "type": "string",
          "minLength": 1,
          "maxLength": 50,
          "description": "Module subtitle (technology name)"
        },
        "timeframe": {
          "type": "string",
          "pattern": "^Weeks? \\d+-\\d+$",
          "description": "Course timeframe (e.g., 'Weeks 3-5')"
        },
        "description": {
          "type": "string",
          "minLength": 10,
          "maxLength": 500,
          "description": "Brief module description"
        },
        "chapters": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/Chapter"
          }
        },
        "prerequisites": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of prerequisites"
        },
        "learningOutcomes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Learning outcomes for the module"
        },
        "navigationPath": {
          "type": "string",
          "pattern": "^/module-[1-4]$",
          "description": "URL path for the module"
        },
        "icon": {
          "type": "string",
          "description": "Icon identifier or path"
        },
        "accentColor": {
          "type": "string",
          "pattern": "^#[0-9A-Fa-f]{6}$",
          "description": "Accent color in hex format"
        },
        "status": {
          "type": "string",
          "enum": ["available", "coming-soon", "in-progress"],
          "default": "coming-soon"
        }
      }
    },
    "Chapter": {
      "type": "object",
      "required": ["chapterNumber", "title", "slug"],
      "properties": {
        "chapterNumber": {
          "type": "integer",
          "minimum": 1,
          "description": "Chapter number"
        },
        "title": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100,
          "description": "Chapter title"
        },
        "slug": {
          "type": "string",
          "pattern": "^[a-z0-9-]+$",
          "description": "URL-friendly chapter identifier"
        },
        "estimatedTime": {
          "type": "string",
          "description": "Estimated completion time"
        },
        "objectives": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 2,
          "maxItems": 5
        },
        "topics": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of topic titles"
        },
        "hasCodeExamples": {
          "type": "boolean",
          "default": true
        },
        "hasLabExercise": {
          "type": "boolean",
          "default": false
        }
      }
    }
  }
}
